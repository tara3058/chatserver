
syntax = "proto3";

// 定义用户服务接口
package userservice;

option cc_generic_services = true;

// 用户信息服务
service UserService {
    // 用户登录
    rpc Login(LoginRequest) returns (LoginResponse);
    // 用户注册
    rpc Register(RegisterRequest) returns (RegisterResponse);
    // 用户注销
    rpc Logout(LogoutRequest) returns (LogoutResponse);
    // 获取用户信息
    rpc GetUserInfo(GetUserInfoRequest) returns (GetUserInfoResponse);
    // 更新用户状态
    rpc UpdateUserState(UpdateUserStateRequest) returns (UpdateUserStateResponse);
}

// 登录请求
message LoginRequest {
    int32 id = 1;
    string password = 2;
}

// 登录响应
message LoginResponse {
    int32 error_code = 1;      // 0表示成功，非0表示失败
    string error_msg = 2;      // 错误信息
    int32 id = 3;              // 用户ID
    string name = 4;           // 用户名
    string state = 5;          // 用户状态
}

// 注册请求
message RegisterRequest {
    string name = 1;
    string password = 2;
}

// 注册响应
message RegisterResponse {
    int32 error_code = 1;      // 0表示成功，非0表示失败
    string error_msg = 2;      // 错误信息
    int32 id = 3;              // 用户ID
}

// 注销请求
message LogoutRequest {
    int32 id = 1;
}

// 注销响应
message LogoutResponse {
    int32 error_code = 1;      // 0表示成功，非0表示失败
    string error_msg = 2;      // 错误信息
}

// 获取用户信息请求
message GetUserInfoRequest {
    int32 id = 1;
}

// 获取用户信息响应
message GetUserInfoResponse {
    int32 error_code = 1;      // 0表示成功，非0表示失败
    string error_msg = 2;      // 错误信息
    int32 id = 3;              // 用户ID
    string name = 4;           // 用户名
    string state = 5;          // 用户状态
}

// 更新用户状态请求
message UpdateUserStateRequest {
    int32 id = 1;
    string state = 2;
}

// 更新用户状态响应
message UpdateUserStateResponse {
    int32 error_code = 1;      // 0表示成功，非0表示失败
    string error_msg = 2;      // 错误信息
}
